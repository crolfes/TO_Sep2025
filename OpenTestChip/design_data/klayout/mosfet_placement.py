import klayout.db as kdb
ly = kdb.Layout()
top = ly.create_cell("TOP")
def make_nmos(ly, w, l, xpos, ypos):
  nmos = ly.create_cell("nmos", "SG13_dev", { "w": f"{w}u", "l": f"{l}u" })
  top.insert(kdb.DCellInstArray(nmos, kdb.DTrans(xpos, ypos)))

make_nmos(ly, 1.5, 0.13, 0.0, 0.0)
make_nmos(ly, 2.5, 0.13, 2.0, 0.0)
make_nmos(ly, 3.5, 0.13, 4.0, 0.0)
make_nmos(ly, 1.5, 0.3, 0.0, 10.0)
make_nmos(ly, 2.5, 0.3, 2.0, 10.0)
make_nmos(ly, 3.5, 0.3, 4.0, 10.0)

ly.write("nmos.gds")

